(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"115":function(e,t,o){},"77":function(e,t,o){"use strict";o.r(t),function(e){var a,n=o(1),r=o(0),c=o.n(r),l=o(28),s=o(116),i=o(104),u=o(124),m=o(103),p=o(123),f=o(99),d=o(121),h=o(96),g=(o(115),o(16)),b=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}console.log(e),t.default=Object(g.b)("cartStore")(a=Object(g.c)(a=function(t){function Home(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Home);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Home.__proto__||Object.getPrototypeOf(Home)).call(this,e));return t.config={"enablePullDownRefresh":!0},t.loadMore=function(){t.page=t.page+1,t.getGoods(!0)},t.addCart=function(e){t.props.cartStore.addCart(e)},t.page=1,t.state={"isH5":!0,"top":[],"goods":[],"hasMore":!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Home,n["Component"]),b(Home,[{"key":"onPullDownRefresh","value":function onPullDownRefresh(){this.getGoods()}},{"key":"onReachBottom","value":function onReachBottom(){console.log(""),this.state.hasMore&&this.loadMore()}},{"key":"componentDidMount","value":function componentDidMount(){var t=this;e.getData("api/top").then(function(e){t.setState({"top":e})}),this.getGoods()}},{"key":"getGoods","value":function getGoods(t){var o=this;e.getData("api/goods?page="+this.page).then(function(e){t?o.setState({"goods":[].concat(_toConsumableArray(o.state.goods),_toConsumableArray(e))}):(o.page=1,o.setState({"goods":e})),o.setState({"hasMore":10===e.length})})}},{"key":"render","value":function render(){var t=this;return console.log(this.state),c.a.createElement(l.a,{"className":"index"},this.state.isH5?c.a.createElement(u.a,{"title":"开课吧"}):null,c.a.createElement(s.a,{"className":"swiper-container","indicatorActiveColor":"#e93b3d","interval":5e3,"circular":!0,"indicatorDots":!0,"autoplay":!0},this.state.top.map(function(t){return c.a.createElement(s.b,null,c.a.createElement(i.a,{"className":"swiper-img","mode":"aspectFit","src":e.url+"course/"+t.img}))})),c.a.createElement(l.a,{"style":"margin-top:10px"},this.state.goods.map(function(o){var a=o.solded>200?e.url+"fire.png":"";return c.a.createElement(m.a,{"title":o.name,"note":"课程简介简介简介课程简介简介简介课程简介简介简介课程简介简介简介","extra":"￥"+o.price,"thumb":a},c.a.createElement(l.a,{"className":"at-row"},c.a.createElement(l.a,{"className":"at-col at-col-4"},c.a.createElement(i.a,{"mode":"aspectFit","className":"card-img","src":e.url+"course/"+o.img})),c.a.createElement(l.a,{"className":"at-col at-col-7"},c.a.createElement(l.a,null,"已有",o.solded,"人购买"),c.a.createElement(l.a,null,c.a.createElement(p.a,{"value":o.tag}))),c.a.createElement(l.a,{"className":"at-col at-col-1"},c.a.createElement(f.a,{"onClick":function onClick(){return t.addCart(o)},"value":"add","color":"#e93b3d","size":"30"}))))})),this.state.hasMore?c.a.createElement(l.a,null,this.state.isH5?c.a.createElement(d.a,{"onClick":this.loadMore}):null):c.a.createElement(h.a,{"content":"没有更多了","color":"#e93b3d"}))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),Home}())||a)||a}.call(this,o(14))}}]);